### 1차원 배열

------

#### 배열(array)이란?

배열(array)은 같은 타입의 변수들로 이루어진 유한 집합으로 정의됩니다.

배열을 구성하는 각각의 값을 배열 요소(element)라고 하며, 배열에서의 위치를 가리키는 숫자는 인덱스(index)라고 합니다.

C언어에서 인덱스는 언제나 0부터 시작하며, 0을 포함한 양의 정수만을 가질 수 있습니다.

 

배열은 같은 종류의 데이터를 많이 다뤄야 하는 경우에 사용할 수 있는 가장 기본적인 자료 구조입니다.

 

배열은 선언되는 형식에 따라 1차원 배열, 2차원 배열뿐만 아니라 그 이상의 다차원 배열로도 선언할 수 있습니다.

하지만 현실적으로 이해하기가 쉬운 2차원 배열까지가 많이 사용됩니다.

------

#### 1차원 배열

1차원 배열은 가장 기본적인 배열로 다음과 같은 문법에 따라 선언됩니다.

##### 문법

타입 배열이름[배열길이];

 

타입은 배열 요소로 들어가는 변수의 타입을 명시합니다.

배열 이름은 배열이 선언된 후에 배열로 접근하기 위해 사용됩니다.

배열의 길이는 해당 배열이 몇 개의 배열 요소를 가지게 되는지 명시합니다.

 

C언어에서는 배열을 선언만 하고 초기화하지 않으면, 각 배열 요소에 아무런 의미를 가지지 않는 쓰레기값이 저장되어 있게 됩니다.

따라서 초기화되지 않은 배열은 사용하지 않도록 주의를 기울여야 합니다.

 

##### 예제

int i;

int sum = 0;

int grade[3];    *// 길이가 3인 int형 배열 선언* 

 

*/\* 배열의 초기화 \*/*

grade[0] = 85;    *// 국어 점수*

grade[1] = 65;    *// 영어 점수*

grade[2] = 90;    *// 수학 점수* 

 

for (i = 0; i < 3; i++)

{

  sum += grade[i]; *// 인덱스를 이용한 배열의 접근*

} 

printf("국영수 과목 총 점수 합계는 %d점이고, 평균 점수는 %f점입니다.**\n**", sum, (double)sum/3); 

[코딩연습 ▶](http://tcpschool.com/examples/tryit/tryC.php?filename=c_array_oneDimensional_01)

##### 실행 결과

국영수 과목 총 점수 합계는 240점이고, 평균 점수는 80.000000점입니다.

 

위의 예제는 길이가 3인 int형 배열을 선언하고 있습니다.

또한, 0부터 시작하는 인덱스(index)를 이용하면 각각의 배열 요소에 따로 접근할 수 있습니다.

 

다음 그림은 위의 예제에서 사용된 배열 grade가 메모리 상에서 어떻게 저장되는지를 보여줍니다.

 

![img](http://tcpschool.com/lectures/img_c_onedimensional_array.png)

 

위의 그림처럼 언제나 배열의 이름은 배열의 첫 번째 요소와 같은 주소를 가리키고 있습니다.

------

#### 배열의 선언과 동시에 초기화 하는 방법

C언어에서는 변수와 마찬가지로 배열도 선언과 동시에 초기화할 수 있습니다.

 

다음과 같이 중괄호({})를 사용하여 초깃값을 나열한 것을 초기화 리스트라고 합니다.

##### 문법

타입 배열이름[배열길이] = {배열요소1, 배열요소2, ...};

 

단, 초기화 리스트의 타입과 배열의 타입은 반드시 일치해야 합니다.

만약에 초기화 리스트의 개수가 배열의 총 길이보다 적으면, 배열의 앞에서부터 차례대로 초기화됩니다.

이때 초기화되지 못한 나머지 배열 요소는 모두 0으로 자동 초기화됩니다.

초기화 리스트의 개수가 배열의 길이보다 길 경우에는 아래 배열의 특징에서 따로 다루도록 합니다.

 

다음 예제는 앞선 예제와 같은 배열을 선언과 동시에 초기화하는 예제입니다.

##### 예제

int i;

int sum = 0;

int grade[3] = {85, 65, 90}; *// 길이가 3인 int형 배열의 선언과 동시에 초기화* 

 

for (i = 0; i < 3; i++)

{

  sum += grade[i];

} 

printf("국영수 과목 총 점수 합계는 %d이고, 평균 점수는 %f입니다.**\n**", sum, (double)(sum/3)); 

[코딩연습 ▶](http://tcpschool.com/examples/tryit/tryC.php?filename=c_array_oneDimensional_02)

##### 실행 결과

국영수 과목 총 점수 합계는 240이고, 평균 점수는 80.000000입니다.

------

#### 배열의 길이 자동 설정

C언어에서는 초기화 리스트에 맞춰 자동으로 배열의 길이를 설정할 수도 있습니다.

 

다음과 같이 배열의 길이를 따로 입력하지 않은 배열은 초기화 리스트의 배열 요소의 개수에 맞춰 자동으로 배열의 길이가 설정됩니다.

##### 문법

타입 배열이름[] = {배열요소1, 배열요소2, ...};

 

다음 예제에서 int형 배열 arr의 길이는 자동으로 3으로 설정됨과 동시에 초기화 리스트에 의해 초기화됩니다.

##### 예제

int arr[] = {1, 2, 3};

------

#### 배열의 특징

C언어에서 배열은 다음과 같은 특징을 가집니다.

 

\1. 배열의 길이를 선언할 때에는 반드시 상수를 사용해야 합니다.

\2. 배열 요소의 인덱스는 언제나 0부터 시작합니다.

\3. C 컴파일러는 배열의 길이를 전혀 신경 쓰지 않습니다.

 

##### 예제

int i;

int sum = 0;

int grade[3] = {85, 65, 90}; *// grade[0], grade[1], grade[2]만 선언 및 초기화*

grade[3] = 100;       *// grade[3]를 선언하지 않고 초기화 진행* 

 

for (i = 0; i < 4; i++)   *// grade[3]도 수식에 포함*

{

  sum += grade[i];

} 

printf("국영수 과목 총 점수 합계는 %d이고, 평균 점수는 %f입니다.**\n**", sum, (double)sum/3); 

[코딩연습 ▶](http://tcpschool.com/examples/tryit/tryC.php?filename=c_array_oneDimensional_03)

##### 실행 결과

국영수 과목 총 점수 합계는 340이고, 평균 점수는 113.333333입니다.

 

위의 예제에서는 크기가 3인 int형 배열 grade를 선언하고 있습니다.

즉, 배열 grade의 배열 요소는 grade[0], grade[1], grade[2]만이 존재합니다.

하지만 존재하지도 않는 grade[3]이라는 배열 요소의 초기화를 진행하고, 반복문을 통해 수식에서도 이용합니다.

 

이때 C 컴파일러는 오류는커녕 수식에서까지 이 배열 요소를 이용하여 결과를 출력합니다.

하지만 이 결과는 개발자가 전혀 의도하지 않은 결과물이며, 이러한 프로그램은 종종 예상치 못한 결과를 내주기도 합니다.

 

위와 같이 C언어에서는 컴파일러가 일일이 배열의 길이 등을 검사하여 오류를 출력해 주지 않습니다.

따라서 C언어로 프로그래밍할 때에는 이런 계산을 언제나 개발자가 직접 신경 써야 합니다.

------

#### 배열이 차지하는 메모리의 크기

C언어에서 배열을 복사하거나 배열 요소에 특정 작업을 하고 싶을 때는 해당 배열이 차지하는 메모리의 크기를 정확히 알고 있어야만 합니다.

 

배열이 차지하는 총 메모리의 크기는 다음 수식을 사용하여 구할 수 있습니다.

##### 수식

배열이 차지하는 메모리의 크기 = 배열의 길이 X sizeof(타입)

 

배열의 길이를 알고 싶을 때에는 다음 수식을 사용하여 구할 수 있습니다.

##### 수식

배열의 길이 = sizeof(배열 이름) / sizeof(배열 이름[0])

 

위의 수식에서 배열 이름[0]은 해당 배열의 타입을 표현하기 위해서 사용되었습니다.

 

다음 예제는 앞서 살펴본 수식을 이용하여 배열의 길이는 구하는 예제입니다.

##### 예제

int grade[] = {85, 65, 90};           *// 배열의 길이를 명시하지 않음*

int arr_len = sizeof(grade) / sizeof(grade[0]); *// 배열의 길이를 구하는 공식* 

printf("배열 arrGrade의 길이는 %d입니다.**\n**", arr_len);

[코딩연습 ▶](http://tcpschool.com/examples/tryit/tryC.php?filename=c_array_oneDimensional_04)

##### 실행 결과

배열 grade의 길이는 3입니다.